trTM.f.consent_check=function(e){if("string"!=typeof e||"init"!=e&&"update"!=e)return"function"==typeof trTM.f.log&&trTM.f.log("e10",{action:e}),!1;if(trTM.d.consent=trTM.d.consent||{},"init"==e&&trTM.d.consent.hasResponse)return!0;if("function"!=typeof __cmp)return!1;var t=__cmp("getCMPData");if("object"!=typeof t)return!1;if("boolean"!=typeof t.consentExists||!t.consentExists)return!1;if("boolean"!=typeof t.userChoiceExists||!t.userChoiceExists)return!1;if("object"!=typeof t.purposeConsents||"object"!=typeof t.purposesList||"object"!=typeof t.purposeLI)return!1;if("object"!=typeof t.vendorConsents||"object"!=typeof t.vendorsList||"object"!=typeof t.vendorLI)return!1;var n=trTM.c.purposes?trTM.c.purposes.split(","):[],s=[],o=0,r=0;for(k in t.purposeLI)t.purposeLI[k]&&r++;for(var i=0;i<t.purposesList.length;i++)o++,t.purposeConsents[t.purposesList[i].id]&&(s.push(t.purposesList[i].id),n.push(t.purposesList[i].name));var p=trTM.c.vendors?trTM.c.vendors.split(","):[],c=[],f=0,d=0;for(k in t.vendorLI)t.vendorLI[k]&&d++;for(i=0;i<t.vendorsList.length;i++)f++,t.vendorConsents[t.vendorsList[i].id]&&(c.push(t.vendorsList[i].id),p.push(t.vendorsList[i].name));trTM.d.consent.purposes=","+n.join(",")+",",trTM.d.consent.purposeIDs=","+s.join(",")+",",trTM.d.consent.vendors=","+p.join(",")+",",trTM.d.consent.vendorIDs=","+c.join(",")+",";var u="Consent available";return f==d&&o==r?u="All consent is essential - no user choice":p.length<=d&&n.length<=r?u="Consent declined":p.length==f&&n.length==o?u="Consent full accepted":(p.length>d||n.length>r)&&(u="Consent partially accepted"),trTM.d.consent.feedback=u,"string"==typeof t.consentstring&&(trTM.d.consent.consent_id=t.consentstring),trTM.d.consent.hasResponse=!0,"function"==typeof trTM.f.log&&trTM.f.log("m2",JSON.parse(JSON.stringify(trTM.d.consent))),!0};