window.trTM=window.trTM||{},trTM.d=trTM.d||{config:!1,init:!1,fired:!1},trTM.f=trTM.f||{},trTM.l=trTM.l||[],trTM.f.consent_check=function(e){if("string"!=typeof e||"init"!=e&&"update"!=e)return"function"==typeof trTM.f.log&&trTM.f.log("e10",{action:e}),!1;var t={hasResponse:!1,feedback:""};if("init"==e&&t.hasResponse)return!0;if("function"!=typeof __cmp)return!1;var n=__cmp("getCMPData");if("object"!=typeof n)return!1;if("boolean"!=typeof n.consentExists||!n.consentExists)return!1;if("boolean"!=typeof n.userChoiceExists||!n.userChoiceExists)return!1;if("object"!=typeof n.purposeConsents||"object"!=typeof n.purposesList||"object"!=typeof n.purposeLI)return!1;if("object"!=typeof n.vendorConsents||"object"!=typeof n.vendorsList||"object"!=typeof n.vendorLI)return!1;var o=trTM.c.purposes?trTM.c.purposes.split(","):[],s=[],r=0,i=0;for(k in n.purposeLI)n.purposeLI[k]&&i++;for(var p=0;p<n.purposesList.length;p++)r++,n.purposeConsents[n.purposesList[p].id]&&(s.push(n.purposesList[p].id),o.push(n.purposesList[p].name));t.purposes=","+o.join(",")+",",t.purposeIDs=","+s.join(",")+",";var f=trTM.c.vendors?trTM.c.vendors.split(","):[],c=[],d=0,u=0;for(k in n.vendorLI)n.vendorLI[k]&&u++;for(p=0;p<n.vendorsList.length;p++)d++,n.vendorConsents[n.vendorsList[p].id]&&(c.push(n.vendorsList[p].id),f.push(n.vendorsList[p].name));return t.vendors=","+f.join(",")+",",t.vendorIDs=","+c.join(",")+",",t.feedback="Consent available",d==u&&r==i?t.feedback="All consent is essential - no user choice":f.length<=u&&o.length<=i?t.feedback="Consent declined":f.length==d&&o.length==r?t.feedback="Consent full accepted":(f.length>u||o.length>i)&&(t.feedback="Consent partially accepted"),"string"==typeof n.consentstring&&(t.consent_id=n.consentstring),t.hasResponse=!0,trTM.d.consent=t,"function"==typeof trTM.f.log&&trTM.f.log("m2",t),!0};